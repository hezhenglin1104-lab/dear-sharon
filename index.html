<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 · 我们的时光胶囊</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&family=Zhi+Mang+Xing&display=swap" rel="stylesheet">
    <style>
        :root { --paper: #f9f4ee; --ink: #2c2c2c; --romantic-red: #8b2b2b; --blue-dusk: #1a2a3a; }
        body, html { margin: 0; padding: 0; height: 100%; overflow: hidden; font-family: 'Noto Serif SC', serif; color: var(--ink); background: #111; }
        
        /* 复古噪点滤镜 */
        .film-grain { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-image: url("https://www.transparenttextures.com/patterns/stardust.png"); opacity: 0.15; pointer-events: none; z-index: 100; }
        .container { height: 100vh; display: flex; justify-content: center; align-items: center; background: radial-gradient(circle, #e6ddd3 0%, #b5a490 100%); perspective: 1000px; }
        
        /* 倒计时锁屏 */
        #lock-screen { text-align: center; color: var(--romantic-red); z-index: 10; width: 85%; max-width: 400px; }
        .timer-box { background: rgba(255, 255, 255, 0.4); padding: 40px 20px; border-radius: 20px; backdrop-filter: blur(5px); border: 1px solid rgba(255,255,255,0.3); box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        #timer { font-size: 2.8rem; font-weight: bold; display: block; margin-top: 20px; font-family: monospace; letter-spacing: 2px; }

        /* 内容卡片 */
        .card { background: var(--paper); width: 88%; max-width: 480px; height: 85vh; padding: 30px 25px; border-radius: 4px; box-shadow: 0 10px 50px rgba(0,0,0,0.4); position: relative; display: none; overflow-y: auto; border: 1px solid #dcd3c9; }
        .active { display: block; animation: flipIn 1.2s ease-out forwards; }
        @keyframes flipIn { from { transform: rotateX(10deg) translateY(20px); opacity: 0; } to { transform: rotateX(0) translateY(0); opacity: 1; } }
        
        h1 { font-family: 'Zhi Mang Xing', cursive; color: var(--romantic-red); text-align: center; font-size: 2.2rem; margin: 0 0 25px 0; font-weight: normal; border-bottom: 1px dashed rgba(139, 43, 43, 0.3); padding-bottom: 15px; }
        .sub-title { text-align: center; font-size: 0.7rem; color: #999; letter-spacing: 3px; margin-bottom: 10px; }
        
        /* 打印机文本样式 */
        .content-box p { line-height: 2; font-size: 1.05rem; text-align: justify; margin-bottom: 1.5em; visibility: hidden; }
        .highlight { font-size: 1.35rem; font-weight: 700; color: var(--romantic-red); text-align: center; display: block; margin-top: 35px; line-height: 1.6; border-top: 1px solid rgba(139, 43, 43, 0.1); padding-top: 20px; }

        /* 照片和按钮 */
        .img-frame { margin-top: 40px; padding: 12px; background: white; box-shadow: 0 2px 15px rgba(0,0,0,0.1); transform: rotate(-1deg); opacity: 0; transition: opacity 1.5s ease; }
        .img-frame.show { opacity: 1; }
        .img-frame img { width: 100%; display: block; filter: sepia(0.15); }
        .nav-btn { text-align: center; margin-top: 30px; padding-bottom: 40px; opacity: 0; transition: opacity 1s ease; }
        .nav-btn.show { opacity: 1; }
        button { background: var(--ink); color: #fff; border: none; padding: 12px 40px; border-radius: 30px; cursor: pointer; font-family: inherit; font-size: 1rem; box-shadow: 0 5px 15px rgba(0,0,0,0.2); }
        
        .float-item { position: absolute; pointer-events: none; z-index: 1; opacity: 0.3; animation: floatUp 12s linear infinite; }
        @keyframes floatUp { to { transform: translateY(-110vh) rotate(360deg); } }
    </style>
</head>
<body>
<div class="film-grain"></div>
<div class="container">

    <div id="lock-screen">
        <div class="timer-box">
            <h2 style="font-family: 'Zhi Mang Xing'; font-size: 2.2rem; margin:0;">致阿月老师</h2>
            <p style="margin-top:10px; opacity:0.8;">2026 开启倒计时</p>
            <span id="timer">00:00:00</span>
            <div style="margin-top:30px; font-size:0.85rem; color:#888; letter-spacing:1px;">等到钟声敲响，这里会为你绽放 ✨</div>
        </div>
    </div>

    <div class="card" id="p1">
        <div class="sub-title">CHAPTER I</div>
        <h1>南昌的拉链</h1>
        <div class="content-box" id="txt1">
            <p>2022年，南昌的秋天，天气忽冷忽热。新东方教室里的你，画风总和别人不太一样。</p>
            <p>我没勇气上前，托了小王的女朋友，才要到你的联系方式。</p>
            <p>那年冬天的一个晚上，下自习后约你吃东西。风很硬，你穿得薄，我脱下外衣披在你身上。拉拉链的时候，我的手一直在抖。那是我第一次离你那么近。</p>
            <p>可惜那天缘分还没具足，我们没能走下去。</p>
            <p>后来，二战落榜。我回了重庆，在医院规培，每天像牛马一样忙碌。23年入秋的一天，你在微信里说，你梦到了我。</p>
            <p>我在值班室昏暗的灯光下盯着屏幕。文字打了又删，删了又打，怕没话找话，又怕就此失去。那些反复琢磨的字句，在深夜里显得张牙舞爪。</p>
            <p>我就这样一直在你面前晃，晃了很久，你终于注意到了我。</p>
            <p class="highlight">后来我常想起南昌那个冬天。那串拉了很久、没能拉到头的拉链，在两年后，终于扣上了。</p>
        </div>
        <div class="img-frame"><img src="photo1.jpg" onerror="this.src='https://via.placeholder.com/400x300?text=Check+photo1.jpg'"></div>
        <div class="nav-btn"><button onclick="go(2)">翻开下一章</button></div>
    </div>

    <div class="card" id="p2" style="background:#f2f5f9">
        <div class="sub-title">CHAPTER II</div>
        <h1 style="color:var(--blue-dusk)">深蓝色的烛火</h1>
        <div class="content-box" id="txt2">
            <p>2025年4月11日，你的一句玩笑话，我稳稳地接住了。</p>
            <p>那天我在安徽，头晚刚陪导师喝了酒，第二天去爬山。仰头看那座高峰，我觉得就算宿醉也能翻过去。那时候的我，好像有使不完的劲。</p>
            <p>5月，我每天在实验室、仓库和网店之间连轴转。夕阳斜着照进车窗，落在方向盘上，也落在视频通话里的你脸上。手机被烧得滚烫，我的心也是。</p>
            <p>可高强度的工作还是压垮了身体。5月底确诊生病，误诊的信息很吓人，说治疗后会掉光头发。我急着赶去见你，想让你记住我还没变丑的样子。那段日子，我们流了很多泪。</p>
            <p>那天晚上，屋里是深蓝色的傍晚，桌上摇曳着红色的烛光。你问我为什么不提分手。我实话实说：我怕，我自私，我怕提了就真的没了。那样的话，在生命最后的阶段，我会好难过。原谅我的自私，宝宝。</p>
            <p>后来开始治疗，头发大把大把地掉。你一次次飞来重庆，我们去大学城，逛各种展，找好吃的店。到了现在，身体具体的痛苦我已经记不清了，但我记得你陪我吃过的每一种味道，看过的每一处风景。</p>
            <p>2025年10月17日，秋天彻底来了，我的治疗也宣告结束。</p>
            <p class="highlight">谢谢你，陪我翻过了那座最陡峭的山。</p>
        </div>
        <div class="img-frame" style="transform: rotate(1deg);"><img src="photo2.jpg" onerror="this.src='https://via.placeholder.com/400x300?text=Check+photo2.jpg'"></div>
        <div class="nav-btn"><button onclick="go(3)">进入终章</button></div>
    </div>

    <div class="card" id="p3">
        <div class="sub-title">FINAL CHAPTER</div>
        <h1>2026 的烟火气</h1>
        <div class="content-box" id="txt3">
            <p>结疗后在家休息了一个月。我关掉了网店，把心收回实验室，每天没日没夜地守着实验台、跑数据、磨论文。总觉得这半年时间是偷来的，想拼命把进度赶回来。</p>
            <p>忙起来的时候，我总忘了告诉你我在做什么，直到你发来消息问起，我才猛然惊觉。对不起，宝宝，我一定改正。</p>
            <p>现在的我恢复期胃口很好，所以总爱问你“在干嘛”、“吃了啥”，像个复读机一样让你多吃点。我希望你的胃口也能像我一样好。</p>
            <p>阿月老师，小许同学，Sharon老师。你说你是个“寡淡”的人，口味淡，性子也淡。但在我眼里，和你一起可有意思了。你的看法总能补充我的缺失，你的爱好我想抽空深入了解。你性格很好很温柔，我觉得这份温柔应该就是只给我一个人的。</p>
            <p>明年我们要搬进新家了。空闲的时候，你一定要多来住住。</p>
            <p>我想和你一起站在厨房里做饭，坐在桌边吃饭。看你感兴趣但我看不懂的，我喜欢但是你不感兴趣的电影电视剧，但是只要是和你一起，就很好。</p>
            <p>2025年就要过去了。</p>
            <p class="highlight" style="font-size: 1.5rem; margin-top: 40px;">我很喜欢你。<br>2026年，我也依然很喜欢你。</p>
        </div>
        <div class="img-frame"><img src="photo3.jpg" onerror="this.src='https://via.placeholder.com/400x300?text=Check+photo3.jpg'"></div>
        <p style="text-align:center; font-family:'Zhi Mang Xing'; color:var(--romantic-red); font-size:1.3rem; margin-top: 50px; opacity:0.8;">未来见 ❤️</p>
    </div>
</div>

<script>
    // 打字机逻辑
    async function typeWriter(containerId) {
        const container = document.getElementById(containerId);
        const paragraphs = container.querySelectorAll('p');
        container.closest('.card').style.overflowY = 'hidden';

        for (let p of paragraphs) {
            const text = p.innerHTML;
            p.innerHTML = '';
            p.style.visibility = 'visible';
            for (let i = 0; i < text.length; i++) {
                if (text[i] === '<') {
                    const endIndex = text.indexOf('>', i);
                    p.innerHTML += text.slice(i, endIndex + 1);
                    i = endIndex;
                } else {
                    p.innerHTML += text[i];
                    await new Promise(r => setTimeout(r, ['，','。','！'].includes(text[i])?150:50));
                }
            }
            await new Promise(r => setTimeout(r, 400));
        }
        container.closest('.card').style.overflowY = 'auto';
        container.parentElement.querySelector('.img-frame').classList.add('show');
        const btn = container.parentElement.querySelector('.nav-btn');
        if(btn) btn.classList.add('show');
    }

    // 时间监控与翻页
    let isUnlocked = false;
    function update() {
        const now = new Date();
        const target = new Date('2026-01-01T00:00:00');
        
        if (now >= target) {
            if (!isUnlocked) {
                isUnlocked = true;
                document.getElementById('lock-screen').style.display = 'none';
                document.getElementById('p1').classList.add('active');
                setTimeout(() => typeWriter('txt1'), 1000);
            }
        } else {
            const diff = target - now;
            const h = String(Math.floor(diff / 3600000)).padStart(2, '0');
            const m = String(Math.floor((diff / 60000) % 60)).padStart(2, '0');
            const s = String(Math.floor((diff / 1000) % 60)).padStart(2, '0');
            document.getElementById('timer').innerText = `${h}:${m}:${s}`;
        }
    }
    setInterval(update, 1000); update();

    function go(n) {
        document.querySelector('.active').classList.remove('active');
        setTimeout(() => {
            const next = document.getElementById('p' + n);
            next.classList.add('active');
            next.scrollTop = 0;
            typeWriter('txt' + n);
        }, 300);
    }

    // 背景红心
    const icons = ['❤️', '✨'];
    setInterval(() => {
        const d = document.createElement('div');
        d.className = 'float-item';
        d.innerHTML = icons[Math.floor(Math.random()*2)];
        d.style.left = Math.random()*100+'vw';
        d.style.fontSize = (Math.random()*20+10)+'px';
        d.style.animationDuration = (Math.random()*5+10)+'s';
        document.body.appendChild(d);
        setTimeout(() => d.remove(), 10000);
    }, 700);
</script>
</body>
</html>
